import re
SMALL_REGEX = re.compile(r"[ァィゥェォャュョ]")

kana2phonome = {
    'ア' : 'a',
    'アD' : 'a', #無声化キャンセル
    'イ' : 'i',
    'イD' : 'i', #無声化キャンセル
    'ウ' : 'u',
    'エ' : 'e',
    'オ' : 'o',
    'オD' : 'o', #無声化キャンセル
    'カ' : 'k a',
    'カD' : 'k a', #無声化キャンセル
    'キ' : 'k i',
    'キD' : 'k I',
    'ク' : 'k u',
    'クD' : 'k U',
    'ケ' : 'k e',
    'コ' : 'k o',
    'コD' : 'k O',
    'ガ' : 'g a',
    'ギ' : 'g i',
    'グ' : 'g u',
    'ゲ' : 'g e',
    'ゴ' : 'g o',
    'サ' : 's a',
    'シ' : 'sh i',
    'シD' : 'sh I',
    'ス' : 's u',
    'スD' : 's U',
    'セ' : 's e',
    'ソ' : 's o',
    'ザ' : 'z a',
    'ジ' : 'j i',
    'ジD' : 'j i', #無声化キャンセル
    'ズ' : 'z u',
    'ズD' : 'z u', #無声化キャンセル
    'ゼ' : 'z e',
    'ゾ' : 'z o',
    'タ' : 't a',
    'タD' : 't A',
    'チ' : 'ch i',
    'チD' : 'ch I',
    'ツ' : 'ts u',
    'ツD' : 'ts U',
    'テ' : 't e',
    'ト' : 't o',
    'トD' : 't O',
    'ダ' : 'd a',
    'ヂ' : 'j i',
    'ヅ' : 'z u',
    'デ' : 'd e',
    'デD' : 'd E',
    'ド' : 'd o',
    'ナ' : 'n a',
    'ニ' : 'n i',
    'ヌ' : 'n u',
    'ネ' : 'n e',
    'ノ' : 'n o',
    'ハ' : 'h a',
    'ハD' : 'h a', #無声化キャンセル
    'ヒ' : 'h i',
    'ヒD' : 'h I',
    'フ' : 'f u',
    'フD' : 'f U',
    'ヘ' : 'h e',
    'ヘD' : 'h E',
    'ホ' : 'h o',
    'バ' : 'b a',
    'ビ' : 'b i',
    'ブ' : 'b u',
    'ベ' : 'b e',
    'ボ' : 'b o',
    'パ' : 'p a',
    'ピ' : 'p i',
    'ピD' : 'p I',
    'プ' : 'p u',
    'プD' : 'p U',
    'ペ' : 'p e',
    'ポ' : 'p o',
    'マ' : 'm a',
    'マD' : 'm A',
    'ミ' : 'm i',
    'ム' : 'm u',
    'メ' : 'm e',
    'モ' : 'm o',
    'ヤ' : 'y a',
    'ユ' : 'y u',
    'ヨ' : 'y o',
    'ラ' : 'r a',
    'リ' : 'r i',
    'リD' : 'r I',
    'ル' : 'r u',
    'ルD' : 'r U',
    'レ' : 'r e',
    'ロ' : 'r o',
    'ワ' : 'w a',
    'ヰ' : 'i',
    'ヱ' : 'e',
    'ヲ' : 'o',
    'ン' : 'N',
    'ッ' : 'cl',
    'イャ' : 'y a',
    'イュ' : 'y u',
    'イェ' : 'y e',
    'イョ' : 'y o',
    'ウァ' : 'w a',
    'ウィ' : 'w i',
    'ウェ' : 'w e',
    'ウォ' : 'w o',
    'ヴ' : 'v u',
    'ヴァ' : 'v a',
    'ヴィ' : 'v i',
    'ヴェ' : 'v e',
    'ヴォ' : 'v o',
    'ヴャ' : 'by a',
    'ヴュ' : 'by u',
    'ヴョ' : 'by o',
    'キャ' : 'ky a',
    'キュ' : 'ky u',
    'キュD' : 'ky U',
    'キェ' : 'ky e',
    'キョ' : 'ky o',
    'ギャ' : 'gy a',
    'ギュ' : 'gy u',
    'ギェ' : 'gy e',
    'ギョ' : 'gy o',
    'クァ' : 'k a',
    'クィ' : 'k i',
    'クィD' : 'k I',
    'クェ' : 'k e',
    'クォ' : 'k o',
    'グァ' : 'g a',
    'グィ' : 'g i',
    'グェ' : 'g e',
    'グォ' : 'g o',
    'シャ' : 'sh a',
    'シュ' : 'sh u',
    'シュD' : 'sh U',
    'シェ' : 'sh e',
    'ショ' : 'sh o',
    'ジャ' : 'j a',
    'ジュ' : 'j u',
    'ジェ' : 'j e',
    'ジョ' : 'j o',
    'スァ' : 's a',
    'スィ' : 's i',
    'スィD' : 's I',
    'スェ' : 's e',
    'スォ' : 's o',
    'ズァ' : 'z a',
    'ズィ' : 'z i',
    'ズェ' : 'z e',
    'ズォ' : 'z o',
    'チャ' : 'ch a',
    'チュ' : 'ch u',
    'チュD' : 'ch U',
    'チェ' : 'ch e',
    'チョ' : 'ch o',
    'ヂャ' : 'j a',
    'ヂュ' : 'j u',
    'ヂェ' : 'j e',
    'ヂョ' : 'j o',
    'ツァ' : 'ts a',
    'ツィ' : 'ts i',
    'ツィD' : 'ts I',
    'ツェ' : 'ts e',
    'ツォ' : 'ts o',
    'ヅァ' : 'z a',
    'ヅィ' : 'z i',
    'ヅェ' : 'z e',
    'ヅォ' : 'z o',
    'テャ' : 'ty a',
    'ティ' : 't i',
    'ティD' : 't I',
    'テュ' : 'ty u',
    'テュD' : 'ty U',
    'テョ' : 'ty o',
    'デャ' : 'dy a',
    'ディ' : 'd i',
    'デュ' : 'dy u',
    'デョ' : 'dy o',
    'トゥ' : 't u',
    'トゥD' : 't U',
    'ドャ' : 'dy a',
    'ドゥ' : 'd u',
    'ドュ' : 'dy u',
    'ドョ' : 'dy o',
    'ニャ' : 'ny a',
    'ニュ' : 'ny u',
    'ニェ' : 'ny e',
    'ニョ' : 'ny o',
    'ヌァ' : 'n a',
    'ヌィ' : 'n i',
    'ヌェ' : 'n e',
    'ヌォ' : 'n o',
    'ヒャ' : 'hy a',
    'ヒュ' : 'hy u',
    'ヒュD' : 'hy U',
    'ヒェ' : 'hy e',
    'ヒョ' : 'hy o',
    'ビャ' : 'by a',
    'ビュ' : 'by u',
    'ビェ' : 'by e',
    'ビョ' : 'by o',
    'ピャ' : 'py a',
    'ピュ' : 'py u',
    'ピュD' : 'py U',
    'ピェ' : 'py e',
    'ピョ' : 'py o',
    'ファ' : 'f a',
    'フィ' : 'f i',
    'フィD' : 'f I',
    'フェ' : 'f e',
    'フォ' : 'f o',
    'フャ' : 'hy a',
    'フュ' : 'hy u',
    'フュD' : 'hy U',
    'フョ' : 'hy o',
    'ブァ' : 'b a',
    'ブィ' : 'b i',
    'ブェ' : 'b e',
    'ブォ' : 'b o',
    'ブャ' : 'by a',
    'ブュ' : 'by u',
    'ブョ' : 'by o',
    'プァ' : 'p a',
    'プィ' : 'p i',
    'プィD' : 'p I',
    'プェ' : 'p e',
    'プォ' : 'p o',
    'プャ' : 'py a',
    'プュ' : 'py u',
    'プョ' : 'py o',
    'ミャ' : 'my a',
    'ミュ' : 'my u',
    'ミェ' : 'my e',
    'ミョ' : 'my o',
    'ムァ' : 'm a',
    'ムィ' : 'm i',
    'ムェ' : 'm e',
    'ムォ' : 'm o',
    'ユァ' : 'y a',
    'ユィ' : 'y i',
    'ユェ' : 'y e',
    'ユォ' : 'y o',
    'リャ' : 'ry a',
    'リュ' : 'ry u',
    'リェ' : 'ry e',
    'リョ' : 'ry o',
    'ルァ' : 'r a',
    'ルィ' : 'r i',
    'ルェ' : 'r e',
    'ルォ' : 'r o',
    'ァ' : 'a',
    'ィ' : 'i',
    'ゥ' : 'u',
    'ェ' : 'e',
    'ォ' : 'o',
    'ャ' : 'y a',
    'ュ' : 'y u',
    'ョ' : 'y o',
    'ヮ' : 'w a',
    'ヵ' : 'k a',
    'ヶ' : 'g a',
}

phonome2kana = {v: k for k, v in kana2phonome.items()}


NASAL_SOUNDS_DICT = {
"カ゜":"ガ",
"キ゜":"ギ",
"ク゜":"グ",
"ケ゜":"ゲ",
"コ゜":"ゴ",
}

WHITE_LIST = [
"ー",
"ヴ",
"ン",
"ヱ",
"ヰ",
"ワ",
"ロ",
"レ",
"ル",
"リ",
"ラ",
"ヨ",
"ユ",
"ヤ",
"モ",
"メ",
"ム",
"ミ",
"マ",
"ポ",
"ボ",
"ホ",
"ペ",
"ベ",
"ヘ",
"プ",
"ブ",
"フ",
"ピ",
"ビ",
"ヒ",
"パ",
"バ",
"ハ",
"ノ",
"ネ",
"ヌ",
"ニ",
"ナ",
"ド",
"ト",
"デ",
"テ",
"ヅ",
"ツ",
"ッ",
"ヂ",
"チ",
"ダ",
"タ",
"ゾ",
"ソ",
"ゼ",
"セ",
"ズ",
"ス",
"ジ",
"シ",
"ザ",
"サ",
"ゴ",
"コ",
"ゲ",
"ケ",
"グ",
"ク",
"ギ",
"キ",
"ガ",
"カ",
"オ",
"エ",
"ウ",
"イ",
"ア",
]

YOUON_WHITE_LIST = [
"ヴョ",
"ヴュ",
"ヴャ",
"ヴォ",
"ヴェ",
"ヴィ",
"ヴァ",
"ルォ",
"ルェ",
"ルィ",
"ルァ",
"リョ",
"リュ",
"リャ",
"リェ",
"ムォ",
"ムェ",
"ムィ",
"ムァ",
"ミョ",
"ミュ",
"ミャ",
"ミェ",
"プォ",
"プェ",
"プィ",
"プァ",
"ブォ",
"ブェ",
"ブィ",
"ブァ",
"フョ",
"フュ",
"フャ",
"フォ",
"フェ",
"フィ",
"ファ",
"ピョ",
"ピュ",
"ピャ",
"ピェ",
"ビョ",
"ビュ",
"ビャ",
"ビェ",
"ヒョ",
"ヒュ",
"ヒャ",
"ヒェ",
"ヌォ",
"ヌェ",
"ヌィ",
"ヌァ",
"ニョ",
"ニュ",
"ニャ",
"ニェ",
"ドゥ",
"トゥ",
"デョ",
"デュ",
"デャ",
"ディ",
"テョ",
"テュ",
"テャ",
"ティ",
"ツォ",
"ツェ",
"ツィ",
"ツァ",
"チョ",
"チュ",
"チャ",
"チェ",
"ズォ",
"ズェ",
"ズィ",
"ズァ",
"スォ",
"スェ",
"スィ",
"スァ",
"ジョ",
"ジュ",
"ジャ",
"ジェ",
"ショ",
"シュ",
"シャ",
"シェ",
"グォ",
"グェ",
"グィ",
"グァ",
"クォ",
"クェ",
"クィ",
"クァ",
"ギョ",
"ギュ",
"ギャ",
"ギェ",
"キョ",
"キュ",
"キャ",
"キェ",
"ウォ",
"ウェ",
"ウィ",
"イェ",
]

# 各モーラに対応する母音を列挙する
BOIN_DICT = {
"ヴ":"ウ",
"ン":"ン",
"ヱ":"エ",
"ヰ":"イ",
"ワ":"ア",
"ロ":"オ",
"レ":"エ",
"ル":"ウ",
"リ":"イ",
"ラ":"ア",
"ヨ":"オ",
"ユ":"ウ",
"ヤ":"ア",
"モ":"オ",
"メ":"エ",
"ム":"ウ",
"ミ":"イ",
"マ":"ア",
"ポ":"オ",
"ボ":"オ",
"ホ":"オ",
"ペ":"エ",
"ベ":"エ",
"ヘ":"エ",
"プ":"ウ",
"ブ":"ウ",
"フ":"ウ",
"ピ":"イ",
"ビ":"イ",
"ヒ":"イ",
"パ":"ア",
"バ":"ア",
"ハ":"ア",
"ノ":"オ",
"ネ":"エ",
"ヌ":"ウ",
"ニ":"イ",
"ナ":"ア",
"ド":"オ",
"ト":"オ",
"デ":"エ",
"テ":"エ",
"ヅ":"ウ",
"ツ":"ウ",
"ヂ":"イ",
"チ":"イ",
"ダ":"ア",
"タ":"ア",
"ゾ":"オ",
"ソ":"オ",
"ゼ":"エ",
"セ":"エ",
"ズ":"ウ",
"ス":"ウ",
"ジ":"イ",
"シ":"イ",
"ザ":"ア",
"サ":"ア",
"ゴ":"オ",
"コ":"オ",
"ゲ":"エ",
"ケ":"エ",
"グ":"ウ",
"ク":"ウ",
"ギ":"イ",
"キ":"イ",
"ガ":"ア",
"カ":"ア",
"オ":"オ",
"エ":"エ",
"ウ":"ウ",
"イ":"イ",
"ア":"ア",
"ヴョ":"オ",
"ヴュ":"ウ",
"ヴャ":"ア",
"ヴォ":"オ",
"ヴェ":"エ",
"ヴィ":"イ",
"ヴァ":"ア",
"ルォ":"オ",
"ルェ":"エ",
"ルィ":"イ",
"ルァ":"イ",
"リョ":"オ",
"リュ":"ウ",
"リャ":"ア",
"リェ":"エ",
"ムォ":"オ",
"ムェ":"エ",
"ムィ":"イ",
"ムァ":"ア",
"ミョ":"オ",
"ミュ":"ウ",
"ミャ":"ア",
"ミェ":"エ",
"プォ":"オ",
"プェ":"エ",
"プィ":"イ",
"プァ":"ア",
"ブォ":"オ",
"ブェ":"エ",
"ブィ":"イ",
"ブァ":"ア",
"フョ":"オ",
"フュ":"ウ",
"フャ":"ア",
"フォ":"オ",
"フェ":"エ",
"フィ":"イ",
"ファ":"ア",
"ピョ":"オ",
"ピュ":"ウ",
"ピャ":"ア",
"ピェ":"エ",
"ビョ":"オ",
"ビュ":"ウ",
"ビャ":"ア",
"ビェ":"エ",
"ヒョ":"オ",
"ヒュ":"ウ",
"ヒャ":"ア",
"ヒェ":"エ",
"ヌォ":"オ",
"ヌェ":"エ",
"ヌィ":"イ",
"ヌァ":"ア",
"ニョ":"オ",
"ニュ":"ウ",
"ニャ":"ア",
"ニェ":"エ",
"ドゥ":"ウ",
"トゥ":"ウ",
"デョ":"オ",
"デュ":"ウ",
"デャ":"ア",
"ディ":"イ",
"テョ":"オ",
"テュ":"ウ",
"テャ":"ア",
"ティ":"イ",
"ツォ":"オ",
"ツェ":"エ",
"ツィ":"イ",
"ツァ":"ア",
"チョ":"オ",
"チュ":"ウ",
"チャ":"ア",
"チェ":"エ",
"ズォ":"オ",
"ズェ":"エ",
"ズィ":"イ",
"ズァ":"ア",
"スォ":"オ",
"スェ":"エ",
"スィ":"イ",
"スァ":"ア",
"ジョ":"オ",
"ジュ":"ウ",
"ジャ":"ア",
"ジェ":"エ",
"ショ":"オ",
"シュ":"ウ",
"シャ":"ア",
"シェ":"エ",
"グォ":"オ",
"グェ":"エ",
"グィ":"イ",
"グァ":"ア",
"クォ":"オ",
"クェ":"エ",
"クィ":"イ",
"クァ":"ア",
"ギョ":"オ",
"ギュ":"ウ",
"ギャ":"ア",
"ギェ":"エ",
"キョ":"オ",
"キュ":"ウ",
"キャ":"ア",
"キェ":"エ",
"ウォ":"オ",
"ウェ":"エ",
"ウィ":"イ",
"イェ":"エ",
}